<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.19" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title> I Love To Delete Code &middot; I Love To Delete Code </title>

  
  <link rel="stylesheet" href="http://www.ilovetodeletecode.com/css/poole.css">
  <link rel="stylesheet" href="http://www.ilovetodeletecode.com/css/syntax.css">
  <link rel="stylesheet" href="http://www.ilovetodeletecode.com/css/hyde.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://www.ilovetodeletecode.com/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="http://www.ilovetodeletecode.com/favicon.png">

  
  <link href="http://www.ilovetodeletecode.com/index.xml" rel="alternate" type="application/rss+xml" title="I Love To Delete Code" />
  <style>
      #social,
      #links {
          margin-top: 10px
      }

      #social i {
          margin-left: 25px
      }

      #social a:hover,
      #social a:focus {
          text-decoration: none;
          color: #bddbed
      }

      pre {
        background-color: #202020;
        color: white;
        overflow: auto;
        word-wrap: normal;
        white-space: pre;
        font-size: 12px;
      }



       
  </style>


</head>

<body class="">

<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <img src="http://www.ilovetodeletecode.com/logo.png" alt="Hugo Themes">
      <a href="http://www.ilovetodeletecode.com/"><h1>I Love To Delete Code</h1></a>
      <p class="lead">
      Deleting code is violating the law of entropy and setting the universe right.
      </p>
    </div>
    <ul class="sidebar-nav">
      <li><a href="http://www.ilovetodeletecode.com/">Home</a> </li>
      
        <li><a href="http://www.ilovetodeletecode.com/post/"> Blog </a></li>
      
        <li><a href="http://www.ilovetodeletecode.com/about/"> About </a></li>
      
    </ul>
    <div id="social" class="text-center">
      <a href="https://twitter.com/JernejGoricki" target="new">
        <i class="fa fa-twitter fa-2x"></i>
      </a>
      <a href="http://uk.linkedin.com/in/jernejgoricki" target="new">
        <i class="fa fa-linkedin fa-2x"></i>
      </a>
</div>
    <p></p>
  </div>
</div>






    <div class="content container">
<div class="posts">

      
  <div class="post">
    <h1 class="post-title">
      <a href="http://www.ilovetodeletecode.com/post/2013/10/31/prevent-large-file-commits-with-powershell-and-mercurial-hooks/">
        Prevent large file commits with PowerShell and Mercurial hooks
      </a>
    </h1>

    <span class="post-date">Thu, Oct 31, 2013</span>
    <p>Because of Mercurial&rsquo;s immutable historical record of project files there is no way to make a committed file completely disappear from the history tree. Our only hope in this case it&rsquo;s not Obi-Wan but the hg rollback command if we act quickly. Since this command only works for one most recent operation <a href="http://stackoverflow.com/questions/3288865/how-to-keep-a-mercurial-repository-small/">(How to keep a Mercurial repository small?)</a> it will not work if we already committed one or more changes after the change that we would like to completely remove <a href="http://stackoverflow.com/questions/8466669/accidentally-committed-a-large-amount-of-raw-data-in-mercurial-how-do-i-keep-it">(Accidentally committed a large amount of raw data in Mercurial, how do I keep it from overloading my Bitbucket repository?)</a>. Our problems escalate even faster if we already pushed or pulled changes to a remote repository and our bad commit propagated to other collaborators.</p>

<p>Two most common cases of brown paper bag commits <a href="http://hgbook.red-bean.com/read/finding-and-fixing-mistakes.html#sec:undo:aaaiiieee">(a commit that is so bad you want to pull a brown paper bag over your head)</a> are accidentally committing sensitive information files (passwords, connection strings&hellip;) and large files. The latter case is less critical because it only increase s repository size and the time it takes to perform operations like pull or clone.</p>

<p>If you are interested in how to prevent yourself from committing large files and are more comfortable with PowerShell then please read on. If you are more of an indentation than squirrely brackets guy then you can check this similar solution in Python - <a href="http://stackoverflow.com/questions/2551719/mercurial-hook-to-disallow-committing-large-binary-files">Mercurial hook to disallow committing large binary files</a>.</p>

<p></p>
    <a href="http://www.ilovetodeletecode.com/post/2013/10/31/prevent-large-file-commits-with-powershell-and-mercurial-hooks/" style="margin-right:0.3rem;float:right;">Read Moreâ€¦</a>
  </div>
  
  
    
    <ul class="pagination">
        
        <li>
            <a href="http://www.ilovetodeletecode.com/" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
        </li>
        
        <li
        >
        <a href="http://www.ilovetodeletecode.com/" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
        </li>
        
        <li
        ><a href="http://www.ilovetodeletecode.com/">1</a></li>
        
        <li
        class="active"><a href="http://www.ilovetodeletecode.com/post/2/">2</a></li>
        
        <li
        class="disabled">
        <a href="" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
        </li>
        
        <li>
            <a href="http://www.ilovetodeletecode.com/post/2/" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
        </li>
        
    </ul>
    
</div>
</div>
  </body>
</html>